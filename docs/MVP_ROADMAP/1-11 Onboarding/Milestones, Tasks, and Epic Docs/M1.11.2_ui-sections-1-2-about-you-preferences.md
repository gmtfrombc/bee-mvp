### M1.11.2 Â· UI â€“ Sections 1-2 (About You & Preferences)

**Epic:** 1.11 Onboarding Intake Surveys\
**Status:** ðŸŸ¡ Planned

---

## ðŸŽ¯ Goal

Implement the first two onboarding screens collecting demographic info and
lifestyle preferences, with responsive, accessible Flutter UI using Riverpod
state management.

## âœ… Success Criteria

- Forms render on phone & tablet breakpoints with no layout shift.
- Validation errors surface in <100 ms after field blur.
- Continue button disabled until form valid.
- Screen transition animation 60 fps.
- Golden tests stable across light/dark mode.

## ðŸ“‹ Milestone Breakdown

| Task ID | Description                                              | Est. Hrs | Status |
| ------- | -------------------------------------------------------- | -------- | ------ |
| T1      | Create `OnboardingController` (Riverpod `StateNotifier`) | 3h       | ðŸŸ¡     |
| T2      | Build `AboutYouPage` widgets (DOB, gender, culture q's)  | 4h       | ðŸŸ¡     |
| T3      | Build `PreferencesPage` with multi-select chips          | 4h       | ðŸŸ¡     |
| T4      | Validation & error messaging                             | 2h       | ðŸŸ¡     |
| T5      | Responsive layout + theming compliance                   | 2h       | ðŸŸ¡     |

## ðŸ“¦ Deliverables

- Dart files under `app/lib/features/onboarding/ui/`.
- Updated `theme.dart` extensions for chip variant if required.
- Widget tests `app/test/features/onboarding/ui/`.
- Golden images in `app/test/_goldens/onboarding/`.

## ðŸ”§ Implementation Details

- **File structure**
  - `about_you_page.dart`
  - `preferences_page.dart`
  - `onboarding_controller.dart`
- **Widgets**: Use `Form`, `TextFormField`, and `Wrap` for chips.
- **Validation**: Implement `InputValidator` mixin (existing in core).
- **State**: Controller holds a `OnboardingDraft` model (freezed).
- **Navigation**: Use `GoRouter` push; page key `OnboardingStep1Route`.
- **Accessibility**: Provide semantics labels, large tap targets (>48 px
  logical).
- **Performance**: Pre-cache chip icons; avoid rebuilding entire form by
  splitting into `ConsumerWidget`s.

## ðŸ§ª Testing Approach

- Widget tests for validation & navigation.
- Golden tests at 360Ã—690, 768Ã—1024.
- Integration test stub to load first page and fill sample data.

## ðŸ“œ Acceptance Criteria Checklist

- [ ] Form fields accept valid input; reject invalid.
- [ ] Continue disabled until all required fields filled.
- [ ] Navigation to next page occurs on tap.
- [ ] Layout passes accessibility audit (flutter_a11y).

## ðŸ”— Dependencies / Notes

- Depends on Design System; no backend yet (local draft state).
- Links to next milestone once UI stable.
